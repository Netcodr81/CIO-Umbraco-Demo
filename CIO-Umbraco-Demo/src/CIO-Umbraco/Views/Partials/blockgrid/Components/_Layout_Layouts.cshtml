@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockGridItem>
@using Umbraco.Cms.Core.PropertyEditors.ValueConverters;

@{
    // No layout by default
    Layout = null;

    // Check if the layout has any areas
    if (Model.Areas.Any() != true)
    {
        return;
    }

    // Get layout settings
    var backgroundColour = Model.Settings?.Value<ColorPickerValueConverter.PickedColor>("layoutSettingsColourPicker");
    var colorLabel = backgroundColour?.Label;
   
    var backgroundImage = Model.Settings?.Value<Umbraco.Cms.Core.Models.MediaWithCrops>("layoutSettingsBackgroundImagePicker");

    var backgroundColorClass = "";
  

    var styleAttribute = "";
    if (backgroundImage != null)
    {
        styleAttribute = $"background-image: url({backgroundImage.MediaUrl()});";
    }
}
<div class="layout-item py-3 @backgroundColorClass"
     data-bgimage="@backgroundImage?.MediaUrl()" style="@styleAttribute"
     data-block-alias="@Model.Content.ContentType.Alias">
    @RenderBody()
</div>