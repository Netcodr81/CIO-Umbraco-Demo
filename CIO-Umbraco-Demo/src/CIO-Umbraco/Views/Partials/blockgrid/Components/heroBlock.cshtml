@* @inherits UmbracoViewPage<BlockGridItem<HeroBlock>>
@using Umbraco.Extensions;

@{
    if (Model?.Content is null) return;

    var heroContent = Model.Content;
    var backgroundImageUrl = heroContent.BackgroundImage?.GetCropUrl();

    var ctaLink = heroContent.CallToActionUrl;
    var ctaUrl = ctaLink?.Url;
    var ctaTarget = string.IsNullOrWhiteSpace(ctaLink?.Target) ? "_self" : ctaLink.Target;

    var buttonBackgroundColor = heroContent?.ButtonBackgroundColor?.Color ?? "#FFC44D";
    var buttonBackgroundHoverColor = heroContent?.ButtonBackgroundHoverColor?.Color ?? "e3bf77";
    var buttonTextColor = heroContent?.ButtonTextColor?.Color ?? "#000000";
    var buttonTextHoverColor = heroContent?.ButtonTextHoverColor?.Color ?? "#000000";
    var headingTextColor = heroContent?.HeadingColor?.Color ?? "#ffffff";
    var subheadingColor = heroContent?.SubheadingColor?.Color ?? "#ffffff";

    var cssVariables = $@"
        --hero-block-btn-color: {buttonBackgroundColor};
        --hero-block-btn-hover-color: {buttonBackgroundHoverColor};
        --hero-block-btn-text-color: {buttonTextColor};
        --hero-block-btn-text-hover-color: {buttonTextHoverColor};
        --hero-block-heading-text-color: {headingTextColor};
        --hero-block-subheading-text-color: {subheadingColor};
    ";
}


<div class="hero-block__wrapper"
     style="background-image: url(@backgroundImageUrl); background-size: cover; background-position: center;@cssVariables">
    <div class="hero-block__overlay"></div>
    <div class="hero-block__cta-callout">
        <h1 class="hero-block__heading">@heroContent?.Header</h1>
        <p class="hero-block__subheader">@heroContent?.SubHeader</p>
        <div class="hero-block__btn-container">
            <a href="@ctaUrl" target="@ctaTarget" class="hero-block__btn" role='button'>
                @if (heroContent?.ButtonIcon is not null)
                {
                    if (heroContent.ButtonIconLocation == "Prepend")
                    {
                        <inline-svg media-item="heroContent.ButtonIcon"></inline-svg>
                        @heroContent.ButtonText
                    }
                    else
                    {
                        @heroContent.ButtonText
                        <inline-svg media-item="heroContent.ButtonIcon"></inline-svg>
                    }
                }
                else
                {
                    @heroContent?.ButtonText
                }

            </a>
        </div>
    </div>
    <div class="hero-block__svg">
        <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1728 103' preserveAspectRatio='none'>
            <path
                class="usa-hero__svg-back"
                d='M1728,103.5H0v-16c214.8-7.6,389.7-21.8,511.9-33.7,203.4-19.7,272.2-34.2,428.8-35,122.8-.6,172.5,7.8,379.1,19.9,176.1,10.3,318.3,14.6,408,16.7v48h.2Z'>
            </path>
            <path
                class="usa-hero__svg-mid"
                d='M1728,103.5v-8.5c-127.2-15.2-316.6-32.5-552-34.1-99.6-.7-106.1,2.1-184,0C707.5,53,605.9,10.3,408.1,1.1,312.2-3.3,172.5-.8,0,35.3v68.2h1728Z'>
            </path>
            <path
                class="usa-hero__svg-fore"
                d='M1728,79.5v24H0v-32c142-17,257.6-18,336-16,201.7,5.2,280.5,34,480,32,123.8-1.3,162.3-13.4,288-24,144.9-12.2,356.2-18.3,624,16Z'>
            </path>
        </svg>
    </div>
</div> *@