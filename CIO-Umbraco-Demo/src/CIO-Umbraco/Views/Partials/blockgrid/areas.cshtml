@using Umbraco.Community.BlockPreview.Extensions
@using Umbraco.Extensions
@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockGridItem>
@{
    if (Model?.Areas.Any() != true) { return; }

    var dataAreas = string.Join(' ', Model.Areas.Select(a => a.Alias));

    string? layoutAreaBackground = ViewData["AreaBackgroundColors"]?.ToString();
   

    var containerClasses = "areas grid";
    var containerStyle = layoutAreaBackground != null ? $"background-color:{layoutAreaBackground}" : string.Empty;

    }

<div class="@containerClasses" data-areas="@dataAreas" data-ContentUdi="@Model.ContentKey" data-Content="@Model.Content" data-GridColumns="@Model.GridColumns">
    @foreach (var area in Model.Areas)
    {
        @await Html.GetPreviewBlockGridItemAreaHtmlAsync(area)
    }
</div>
